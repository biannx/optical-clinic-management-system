<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="/css/common.css" />
    <link rel="stylesheet" href="/css/user-products.css" />
    <link rel="stylesheet" href="/css/attendants.css" />
    <link rel="stylesheet" href="/css/client.css" />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.5.0/css/all.css"
    />
    <link
      href="/css/dataTables.bootstrap5.min.css"
      rel="stylesheet"
      type="text/css"
    />
    <link
      href="/css/user-profile.css"
      rel="stylesheet"
      type="text/css"
    />
    <title>My Profile</title>
  </head>
  <body>
    <%- include("../../partials/client-navigation-guest.ejs") %>
    <%- include("../../partials/convertDate.ejs") %>

    <div class="container px-4 py-5 card my-5 radius rounded-3">
      <h1 class="text-center mb-5 helvetica blue-font heavy-font">
        USER PROFILE
      </h1>
      <div class="row">
        <div class="col-lg-4 text-center">
          <form action="">
            <div class="profile-pic-div" id="update-photo">
              <img src="/images/avatar1.png" alt="avatar" id="photo" />
              <input type="file" id="file" disabled="true" />
              <label class="form-label" for="file" id="uploadBtn"
                >Choose Photo</label
              >
            </div>
            <div id="edit-photo-div">
              <img
                class="user-photo w-75"
                src="/images/avatar1.png"
              /><br />
              <button
                class="btn btn-primary edit-pic-btn px-4"
                type="button"
                id="edit-photo"
              >
                Edit Picture
              </button>
            </div>
            <div id="customer-photo1" class="mt-5">
              <button
                type="submit"
                class="btn btn-default data mx-3 px-5"
                title="Update Customer Details"
                id="save-update-button"
              >
                Save
              </button>
              <a
                href="user-profile.html"
                class="btn btn-danger data py-2 px-5"
                title="Update Customer Details"
                id="cancel-update-button"
              >
                Cancel
              </a>
            </div>
          </form>
        </div>
        <form 
          method="POST" action="/profile/<%= user._id %>?_method=PATCH"
          class="col-lg-8">
          <form action="">
            <div class="row gx-4 mt-5 mb-4">
              <div class="form-group col-lg-3 col-md-6 col-sm-12 mb-3">
                <label class="open-sans heavy-font" for="firstName"
                  ><bold>First Name</bold></label
                >
                <input
                  type="text"
                  class="form-control"
                  id="firstName"
                  disabled="true"
                  name="first_name"
                  value="<%= user.first_name %>"
                />
              </div>
              <div class="form-group col-lg-3 col-md-6 col-sm-12 mb-3">
                <label class="open-sans heavy-font" for="middleName"
                  ><bold>Middle Name</bold></label
                >
                <input
                  type="text"
                  class="form-control"
                  id="middleName"
                  name="middle_name"
                  value="<%= user.middle_name %>"
                  disabled="true"
                />
              </div>
              <div class="form-group col-lg-3 col-md-6 col-sm-12 mb-3">
                <label class="open-sans heavy-font" for="lastName"
                  ><bold>Last Name</bold></label
                >
                <input
                  type="text"
                  class="form-control"
                  id="lastName"
                  name="last_name"
                  value="<%= user.last_name %>"
                  disabled="true"
                />
              </div>
              <div class="form-group col-lg-3 col-md-6 col-sm-12 mb-3">
                <label class="open-sans heavy-font" for="suffix"
                  ><bold>Suffix</bold></label
                >
                <input
                  type="text"
                  class="form-control"
                  id="suffix"
                  name="suffix"
                  value="<%= user.suffix %>"
                  disabled="true"
                />
              </div>
            </div>

            <div class="row mb-4">
              <div class="form-group col-lg-6 col-sm-12 mb-3">
                <label class="open-sans heavy-font" for="birthdate"
                  ><bold>Birthdate</bold></label
                >
                <input
                  type="date"
                  class="form-control"
                  id="birthdate"
                  name="birthday"
                  value="<%= formatDate(user.birthday) %>"
                  disabled="true"
                />
              </div>

              <div class="form-group col-lg-6 col-sm-12 mb-3">
                <p><b>Sex</b></p>
                <div class="form-check form-check-inline ms-4">
                  <input
                    class="form-check-input"
                    type="radio"
                    name="sex"
                    id="female"
                    value="F"
                    <%= (user.sex === "F")? "checked": "" %>
                    disabled="true"
                  />
                  <label class="form-check-label fs-6" for="female">
                    Female
                  </label>
                </div>
                <div class="form-check form-check-inline">
                  <input
                    class="form-check-input"
                    type="radio"
                    name="sex"
                    id="male"
                    value="M"
                    <%= (user.sex === "M")? "checked": "" %>
                    disabled="true"
                  />
                  <label class="form-check-label fs-6" for="male"> Male </label>
                </div>
              </div>
            </div>

            <div class="row my-5 gx-4">
              <div class="col-lg-6 col-sm-12 mb-3">
                <label for="contactNumber"><b>Contact Number</b></label>
                <div class="input-group mb-3">
                  <div class="input-group-prepend">
                    <span class="input-group-text" style="padding: 0.7rem"
                      ><b>+63</b></span
                    >
                  </div>
                  <input
                    type="text"
                    class="form-control"
                    id="contactNumber"
                    aria-describedby="basic-addon3"
                    name="contact"
                    maxlength="11"
                    value="<%= user.contact %>"
                    disabled="true"
                  />
                </div>
              </div>

              <div class="form-group col-lg-6 col-sm-12 mb-3">
                <label class="open-sans heavy-font" for="email"
                  ><bold>Email</bold></label
                >
                <input
                  type="email"
                  class="form-control"
                  id="email"
                  name="email"
                  value="<%= user.email %>"
                  disabled="true"
                />
              </div>
            </div>

            <div class="d-flex justify-content-end mt-4">
              <button
                type="button"
                class="btn btn-default data px-5"
                title="Update Customer Details"
                id="update-info"
              >
                Update
              </button>

              <div id="customer-info">
                <button
                  type="submit"
                  class="btn btn-default data mx-3 px-5"
                  title="Update Customer Details"
                  id="save-update-button"
                >
                  Save
                </button>
                <a
                  href="user-profile.html"
                  class="btn btn-danger data py-2 px-5"
                  title="Update Customer Details"
                  id="cancel-update-button"
                >
                  Cancel
                </a>
              </div>
            </div>
          </form>
        </form>
      </div>
    </div>

    <%- include("../../partials/client-footer.ejs") %>

    <script src="/js/modifyCustomer.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
  </body>
</html>